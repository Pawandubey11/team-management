{"ast":null,"code":"import { io } from 'socket.io-client';\nconst SOCKET_URL = process.env.REACT_APP_SOCKET_URL || 'http://localhost:5000';\nlet socket = null;\nexport const connectSocket = token => {\n  var _socket;\n  if ((_socket = socket) !== null && _socket !== void 0 && _socket.connected) return socket;\n  socket = io(SOCKET_URL, {\n    auth: {\n      token\n    },\n    transports: ['websocket', 'polling'],\n    reconnection: true,\n    reconnectionDelay: 1000,\n    reconnectionAttempts: 5\n  });\n  socket.on('connect', () => console.log('ðŸ”Œ Socket connected'));\n  socket.on('disconnect', () => console.log('ðŸ”Œ Socket disconnected'));\n  socket.on('error', err => console.error('Socket error:', err));\n  return socket;\n};\nexport const disconnectSocket = () => {\n  if (socket) {\n    socket.disconnect();\n    socket = null;\n  }\n};\nexport const getSocket = () => socket;\nexport const joinRoom = groupId => {\n  if (socket) socket.emit('join_room', {\n    groupId\n  });\n};\nexport const sendMessage = content => {\n  if (socket) socket.emit('send_message', {\n    content\n  });\n};\nexport const emitTypingStart = () => {\n  if (socket) socket.emit('typing_start');\n};\nexport const emitTypingStop = () => {\n  if (socket) socket.emit('typing_stop');\n};","map":{"version":3,"names":["io","SOCKET_URL","process","env","REACT_APP_SOCKET_URL","socket","connectSocket","token","_socket","connected","auth","transports","reconnection","reconnectionDelay","reconnectionAttempts","on","console","log","err","error","disconnectSocket","disconnect","getSocket","joinRoom","groupId","emit","sendMessage","content","emitTypingStart","emitTypingStop"],"sources":["C:/Users/pawan/OneDrive/Desktop/team-management-fullcode/team-management/frontend/src/services/socket.js"],"sourcesContent":["import { io } from 'socket.io-client';\n\nconst SOCKET_URL = process.env.REACT_APP_SOCKET_URL || 'http://localhost:5000';\n\nlet socket = null;\n\nexport const connectSocket = (token) => {\n  if (socket?.connected) return socket;\n\n  socket = io(SOCKET_URL, {\n    auth: { token },\n    transports: ['websocket', 'polling'],\n    reconnection: true,\n    reconnectionDelay: 1000,\n    reconnectionAttempts: 5,\n  });\n\n  socket.on('connect', () => console.log('ðŸ”Œ Socket connected'));\n  socket.on('disconnect', () => console.log('ðŸ”Œ Socket disconnected'));\n  socket.on('error', (err) => console.error('Socket error:', err));\n\n  return socket;\n};\n\nexport const disconnectSocket = () => {\n  if (socket) {\n    socket.disconnect();\n    socket = null;\n  }\n};\n\nexport const getSocket = () => socket;\n\nexport const joinRoom = (groupId) => {\n  if (socket) socket.emit('join_room', { groupId });\n};\n\nexport const sendMessage = (content) => {\n  if (socket) socket.emit('send_message', { content });\n};\n\nexport const emitTypingStart = () => {\n  if (socket) socket.emit('typing_start');\n};\n\nexport const emitTypingStop = () => {\n  if (socket) socket.emit('typing_stop');\n};\n"],"mappings":"AAAA,SAASA,EAAE,QAAQ,kBAAkB;AAErC,MAAMC,UAAU,GAAGC,OAAO,CAACC,GAAG,CAACC,oBAAoB,IAAI,uBAAuB;AAE9E,IAAIC,MAAM,GAAG,IAAI;AAEjB,OAAO,MAAMC,aAAa,GAAIC,KAAK,IAAK;EAAA,IAAAC,OAAA;EACtC,KAAAA,OAAA,GAAIH,MAAM,cAAAG,OAAA,eAANA,OAAA,CAAQC,SAAS,EAAE,OAAOJ,MAAM;EAEpCA,MAAM,GAAGL,EAAE,CAACC,UAAU,EAAE;IACtBS,IAAI,EAAE;MAAEH;IAAM,CAAC;IACfI,UAAU,EAAE,CAAC,WAAW,EAAE,SAAS,CAAC;IACpCC,YAAY,EAAE,IAAI;IAClBC,iBAAiB,EAAE,IAAI;IACvBC,oBAAoB,EAAE;EACxB,CAAC,CAAC;EAEFT,MAAM,CAACU,EAAE,CAAC,SAAS,EAAE,MAAMC,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC,CAAC;EAC9DZ,MAAM,CAACU,EAAE,CAAC,YAAY,EAAE,MAAMC,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAC,CAAC;EACpEZ,MAAM,CAACU,EAAE,CAAC,OAAO,EAAGG,GAAG,IAAKF,OAAO,CAACG,KAAK,CAAC,eAAe,EAAED,GAAG,CAAC,CAAC;EAEhE,OAAOb,MAAM;AACf,CAAC;AAED,OAAO,MAAMe,gBAAgB,GAAGA,CAAA,KAAM;EACpC,IAAIf,MAAM,EAAE;IACVA,MAAM,CAACgB,UAAU,CAAC,CAAC;IACnBhB,MAAM,GAAG,IAAI;EACf;AACF,CAAC;AAED,OAAO,MAAMiB,SAAS,GAAGA,CAAA,KAAMjB,MAAM;AAErC,OAAO,MAAMkB,QAAQ,GAAIC,OAAO,IAAK;EACnC,IAAInB,MAAM,EAAEA,MAAM,CAACoB,IAAI,CAAC,WAAW,EAAE;IAAED;EAAQ,CAAC,CAAC;AACnD,CAAC;AAED,OAAO,MAAME,WAAW,GAAIC,OAAO,IAAK;EACtC,IAAItB,MAAM,EAAEA,MAAM,CAACoB,IAAI,CAAC,cAAc,EAAE;IAAEE;EAAQ,CAAC,CAAC;AACtD,CAAC;AAED,OAAO,MAAMC,eAAe,GAAGA,CAAA,KAAM;EACnC,IAAIvB,MAAM,EAAEA,MAAM,CAACoB,IAAI,CAAC,cAAc,CAAC;AACzC,CAAC;AAED,OAAO,MAAMI,cAAc,GAAGA,CAAA,KAAM;EAClC,IAAIxB,MAAM,EAAEA,MAAM,CAACoB,IAAI,CAAC,aAAa,CAAC;AACxC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}