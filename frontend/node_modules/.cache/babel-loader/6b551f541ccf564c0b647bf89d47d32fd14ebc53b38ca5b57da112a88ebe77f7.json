{"ast":null,"code":"import axios from'axios';const API=axios.create({baseURL:process.env.REACT_APP_API_URL||'/api',withCredentials:true});// Attach JWT token to every request\nAPI.interceptors.request.use(config=>{const token=localStorage.getItem('token');if(token)config.headers.Authorization=\"Bearer \".concat(token);return config;});// Handle 401 globally\nAPI.interceptors.response.use(response=>response,error=>{var _error$response;if(((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status)===401){localStorage.removeItem('token');localStorage.removeItem('user');window.location.href='/login';}return Promise.reject(error);});// Auth\nexport const authAPI={login:data=>API.post('/auth/login',data),getMe:()=>API.get('/auth/me')};// Company\nexport const companyAPI={getCompany:id=>API.get(\"/company/\".concat(id)),updateCompany:(id,data)=>API.put(\"/company/\".concat(id),data),createCompany:data=>API.post('/company',data)};// Departments\nexport const departmentAPI={getDepartments:()=>API.get('/departments'),getDepartment:id=>API.get(\"/departments/\".concat(id)),createDepartment:data=>API.post('/departments',data),updateDepartment:(id,data)=>API.put(\"/departments/\".concat(id),data)};// Users\nexport const userAPI={getUsers:()=>API.get('/users'),getUser:id=>API.get(\"/users/\".concat(id)),createUser:data=>API.post('/users',data),assignDepartment:(id,data)=>API.put(\"/users/\".concat(id,\"/department\"),data),toggleStatus:id=>API.put(\"/users/\".concat(id,\"/status\"))};// Groups\nexport const groupAPI={getGroups:()=>API.get('/groups'),getGroup:id=>API.get(\"/groups/\".concat(id)),createGroup:data=>API.post('/groups',data)};// Messages\nexport const messageAPI={getGroupMessages:function(groupId){let page=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;return API.get(\"/messages/group/\".concat(groupId,\"?page=\").concat(page,\"&limit=50\"));},sendMessage:data=>API.post('/messages',data),deleteMessage:id=>API.delete(\"/messages/\".concat(id))};export default API;","map":{"version":3,"names":["axios","API","create","baseURL","process","env","REACT_APP_API_URL","withCredentials","interceptors","request","use","config","token","localStorage","getItem","headers","Authorization","concat","response","error","_error$response","status","removeItem","window","location","href","Promise","reject","authAPI","login","data","post","getMe","get","companyAPI","getCompany","id","updateCompany","put","createCompany","departmentAPI","getDepartments","getDepartment","createDepartment","updateDepartment","userAPI","getUsers","getUser","createUser","assignDepartment","toggleStatus","groupAPI","getGroups","getGroup","createGroup","messageAPI","getGroupMessages","groupId","page","arguments","length","undefined","sendMessage","deleteMessage","delete"],"sources":["C:/Users/pawan/OneDrive/Desktop/team-management-fullcode/team-management/frontend/src/services/api.js"],"sourcesContent":["import axios from 'axios';\n\nconst API = axios.create({\n  baseURL: process.env.REACT_APP_API_URL || '/api',\n  withCredentials: true,\n});\n\n// Attach JWT token to every request\nAPI.interceptors.request.use((config) => {\n  const token = localStorage.getItem('token');\n  if (token) config.headers.Authorization = `Bearer ${token}`;\n  return config;\n});\n\n// Handle 401 globally\nAPI.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    if (error.response?.status === 401) {\n      localStorage.removeItem('token');\n      localStorage.removeItem('user');\n      window.location.href = '/login';\n    }\n    return Promise.reject(error);\n  }\n);\n\n// Auth\nexport const authAPI = {\n  login: (data) => API.post('/auth/login', data),\n  getMe: () => API.get('/auth/me'),\n};\n\n// Company\nexport const companyAPI = {\n  getCompany: (id) => API.get(`/company/${id}`),\n  updateCompany: (id, data) => API.put(`/company/${id}`, data),\n  createCompany: (data) => API.post('/company', data),\n};\n\n// Departments\nexport const departmentAPI = {\n  getDepartments: () => API.get('/departments'),\n  getDepartment: (id) => API.get(`/departments/${id}`),\n  createDepartment: (data) => API.post('/departments', data),\n  updateDepartment: (id, data) => API.put(`/departments/${id}`, data),\n};\n\n// Users\nexport const userAPI = {\n  getUsers: () => API.get('/users'),\n  getUser: (id) => API.get(`/users/${id}`),\n  createUser: (data) => API.post('/users', data),\n  assignDepartment: (id, data) => API.put(`/users/${id}/department`, data),\n  toggleStatus: (id) => API.put(`/users/${id}/status`),\n};\n\n// Groups\nexport const groupAPI = {\n  getGroups: () => API.get('/groups'),\n  getGroup: (id) => API.get(`/groups/${id}`),\n  createGroup: (data) => API.post('/groups', data),\n};\n\n// Messages\nexport const messageAPI = {\n  getGroupMessages: (groupId, page = 1) => API.get(`/messages/group/${groupId}?page=${page}&limit=50`),\n  sendMessage: (data) => API.post('/messages', data),\n  deleteMessage: (id) => API.delete(`/messages/${id}`),\n};\n\nexport default API;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAEzB,KAAM,CAAAC,GAAG,CAAGD,KAAK,CAACE,MAAM,CAAC,CACvBC,OAAO,CAAEC,OAAO,CAACC,GAAG,CAACC,iBAAiB,EAAI,MAAM,CAChDC,eAAe,CAAE,IACnB,CAAC,CAAC,CAEF;AACAN,GAAG,CAACO,YAAY,CAACC,OAAO,CAACC,GAAG,CAAEC,MAAM,EAAK,CACvC,KAAM,CAAAC,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,GAAIF,KAAK,CAAED,MAAM,CAACI,OAAO,CAACC,aAAa,WAAAC,MAAA,CAAaL,KAAK,CAAE,CAC3D,MAAO,CAAAD,MAAM,CACf,CAAC,CAAC,CAEF;AACAV,GAAG,CAACO,YAAY,CAACU,QAAQ,CAACR,GAAG,CAC1BQ,QAAQ,EAAKA,QAAQ,CACrBC,KAAK,EAAK,KAAAC,eAAA,CACT,GAAI,EAAAA,eAAA,CAAAD,KAAK,CAACD,QAAQ,UAAAE,eAAA,iBAAdA,eAAA,CAAgBC,MAAM,IAAK,GAAG,CAAE,CAClCR,YAAY,CAACS,UAAU,CAAC,OAAO,CAAC,CAChCT,YAAY,CAACS,UAAU,CAAC,MAAM,CAAC,CAC/BC,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAG,QAAQ,CACjC,CACA,MAAO,CAAAC,OAAO,CAACC,MAAM,CAACR,KAAK,CAAC,CAC9B,CACF,CAAC,CAED;AACA,MAAO,MAAM,CAAAS,OAAO,CAAG,CACrBC,KAAK,CAAGC,IAAI,EAAK7B,GAAG,CAAC8B,IAAI,CAAC,aAAa,CAAED,IAAI,CAAC,CAC9CE,KAAK,CAAEA,CAAA,GAAM/B,GAAG,CAACgC,GAAG,CAAC,UAAU,CACjC,CAAC,CAED;AACA,MAAO,MAAM,CAAAC,UAAU,CAAG,CACxBC,UAAU,CAAGC,EAAE,EAAKnC,GAAG,CAACgC,GAAG,aAAAhB,MAAA,CAAamB,EAAE,CAAE,CAAC,CAC7CC,aAAa,CAAEA,CAACD,EAAE,CAAEN,IAAI,GAAK7B,GAAG,CAACqC,GAAG,aAAArB,MAAA,CAAamB,EAAE,EAAIN,IAAI,CAAC,CAC5DS,aAAa,CAAGT,IAAI,EAAK7B,GAAG,CAAC8B,IAAI,CAAC,UAAU,CAAED,IAAI,CACpD,CAAC,CAED;AACA,MAAO,MAAM,CAAAU,aAAa,CAAG,CAC3BC,cAAc,CAAEA,CAAA,GAAMxC,GAAG,CAACgC,GAAG,CAAC,cAAc,CAAC,CAC7CS,aAAa,CAAGN,EAAE,EAAKnC,GAAG,CAACgC,GAAG,iBAAAhB,MAAA,CAAiBmB,EAAE,CAAE,CAAC,CACpDO,gBAAgB,CAAGb,IAAI,EAAK7B,GAAG,CAAC8B,IAAI,CAAC,cAAc,CAAED,IAAI,CAAC,CAC1Dc,gBAAgB,CAAEA,CAACR,EAAE,CAAEN,IAAI,GAAK7B,GAAG,CAACqC,GAAG,iBAAArB,MAAA,CAAiBmB,EAAE,EAAIN,IAAI,CACpE,CAAC,CAED;AACA,MAAO,MAAM,CAAAe,OAAO,CAAG,CACrBC,QAAQ,CAAEA,CAAA,GAAM7C,GAAG,CAACgC,GAAG,CAAC,QAAQ,CAAC,CACjCc,OAAO,CAAGX,EAAE,EAAKnC,GAAG,CAACgC,GAAG,WAAAhB,MAAA,CAAWmB,EAAE,CAAE,CAAC,CACxCY,UAAU,CAAGlB,IAAI,EAAK7B,GAAG,CAAC8B,IAAI,CAAC,QAAQ,CAAED,IAAI,CAAC,CAC9CmB,gBAAgB,CAAEA,CAACb,EAAE,CAAEN,IAAI,GAAK7B,GAAG,CAACqC,GAAG,WAAArB,MAAA,CAAWmB,EAAE,gBAAeN,IAAI,CAAC,CACxEoB,YAAY,CAAGd,EAAE,EAAKnC,GAAG,CAACqC,GAAG,WAAArB,MAAA,CAAWmB,EAAE,WAAS,CACrD,CAAC,CAED;AACA,MAAO,MAAM,CAAAe,QAAQ,CAAG,CACtBC,SAAS,CAAEA,CAAA,GAAMnD,GAAG,CAACgC,GAAG,CAAC,SAAS,CAAC,CACnCoB,QAAQ,CAAGjB,EAAE,EAAKnC,GAAG,CAACgC,GAAG,YAAAhB,MAAA,CAAYmB,EAAE,CAAE,CAAC,CAC1CkB,WAAW,CAAGxB,IAAI,EAAK7B,GAAG,CAAC8B,IAAI,CAAC,SAAS,CAAED,IAAI,CACjD,CAAC,CAED;AACA,MAAO,MAAM,CAAAyB,UAAU,CAAG,CACxBC,gBAAgB,CAAE,QAAAA,CAACC,OAAO,KAAE,CAAAC,IAAI,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,CAAC,OAAK,CAAA1D,GAAG,CAACgC,GAAG,oBAAAhB,MAAA,CAAoBwC,OAAO,WAAAxC,MAAA,CAASyC,IAAI,aAAW,CAAC,GACpGI,WAAW,CAAGhC,IAAI,EAAK7B,GAAG,CAAC8B,IAAI,CAAC,WAAW,CAAED,IAAI,CAAC,CAClDiC,aAAa,CAAG3B,EAAE,EAAKnC,GAAG,CAAC+D,MAAM,cAAA/C,MAAA,CAAcmB,EAAE,CAAE,CACrD,CAAC,CAED,cAAe,CAAAnC,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}