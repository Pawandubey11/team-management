{"ast":null,"code":"import{io}from'socket.io-client';const SOCKET_URL=process.env.REACT_APP_SOCKET_URL||'http://localhost:5000';let socket=null;export const connectSocket=token=>{var _socket;if((_socket=socket)!==null&&_socket!==void 0&&_socket.connected)return socket;socket=io(SOCKET_URL,{auth:{token},transports:['websocket','polling'],reconnection:true,reconnectionDelay:1000,reconnectionAttempts:5});socket.on('connect',()=>console.log('ðŸ”Œ Socket connected'));socket.on('disconnect',()=>console.log('ðŸ”Œ Socket disconnected'));socket.on('error',err=>console.error('Socket error:',err));return socket;};export const disconnectSocket=()=>{if(socket){socket.disconnect();socket=null;}};export const getSocket=()=>socket;export const joinRoom=groupId=>{if(socket)socket.emit('join_room',{groupId});};export const sendMessage=content=>{if(socket)socket.emit('send_message',{content});};export const emitTypingStart=()=>{if(socket)socket.emit('typing_start');};export const emitTypingStop=()=>{if(socket)socket.emit('typing_stop');};","map":{"version":3,"names":["io","SOCKET_URL","process","env","REACT_APP_SOCKET_URL","socket","connectSocket","token","_socket","connected","auth","transports","reconnection","reconnectionDelay","reconnectionAttempts","on","console","log","err","error","disconnectSocket","disconnect","getSocket","joinRoom","groupId","emit","sendMessage","content","emitTypingStart","emitTypingStop"],"sources":["C:/Users/pawan/OneDrive/Desktop/team-management-fullcode/team-management/frontend/src/services/socket.js"],"sourcesContent":["import { io } from 'socket.io-client';\n\nconst SOCKET_URL = process.env.REACT_APP_SOCKET_URL || 'http://localhost:5000';\n\nlet socket = null;\n\nexport const connectSocket = (token) => {\n  if (socket?.connected) return socket;\n\n  socket = io(SOCKET_URL, {\n    auth: { token },\n    transports: ['websocket', 'polling'],\n    reconnection: true,\n    reconnectionDelay: 1000,\n    reconnectionAttempts: 5,\n  });\n\n  socket.on('connect', () => console.log('ðŸ”Œ Socket connected'));\n  socket.on('disconnect', () => console.log('ðŸ”Œ Socket disconnected'));\n  socket.on('error', (err) => console.error('Socket error:', err));\n\n  return socket;\n};\n\nexport const disconnectSocket = () => {\n  if (socket) {\n    socket.disconnect();\n    socket = null;\n  }\n};\n\nexport const getSocket = () => socket;\n\nexport const joinRoom = (groupId) => {\n  if (socket) socket.emit('join_room', { groupId });\n};\n\nexport const sendMessage = (content) => {\n  if (socket) socket.emit('send_message', { content });\n};\n\nexport const emitTypingStart = () => {\n  if (socket) socket.emit('typing_start');\n};\n\nexport const emitTypingStop = () => {\n  if (socket) socket.emit('typing_stop');\n};\n"],"mappings":"AAAA,OAASA,EAAE,KAAQ,kBAAkB,CAErC,KAAM,CAAAC,UAAU,CAAGC,OAAO,CAACC,GAAG,CAACC,oBAAoB,EAAI,uBAAuB,CAE9E,GAAI,CAAAC,MAAM,CAAG,IAAI,CAEjB,MAAO,MAAM,CAAAC,aAAa,CAAIC,KAAK,EAAK,KAAAC,OAAA,CACtC,IAAAA,OAAA,CAAIH,MAAM,UAAAG,OAAA,WAANA,OAAA,CAAQC,SAAS,CAAE,MAAO,CAAAJ,MAAM,CAEpCA,MAAM,CAAGL,EAAE,CAACC,UAAU,CAAE,CACtBS,IAAI,CAAE,CAAEH,KAAM,CAAC,CACfI,UAAU,CAAE,CAAC,WAAW,CAAE,SAAS,CAAC,CACpCC,YAAY,CAAE,IAAI,CAClBC,iBAAiB,CAAE,IAAI,CACvBC,oBAAoB,CAAE,CACxB,CAAC,CAAC,CAEFT,MAAM,CAACU,EAAE,CAAC,SAAS,CAAE,IAAMC,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC,CAAC,CAC9DZ,MAAM,CAACU,EAAE,CAAC,YAAY,CAAE,IAAMC,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAC,CAAC,CACpEZ,MAAM,CAACU,EAAE,CAAC,OAAO,CAAGG,GAAG,EAAKF,OAAO,CAACG,KAAK,CAAC,eAAe,CAAED,GAAG,CAAC,CAAC,CAEhE,MAAO,CAAAb,MAAM,CACf,CAAC,CAED,MAAO,MAAM,CAAAe,gBAAgB,CAAGA,CAAA,GAAM,CACpC,GAAIf,MAAM,CAAE,CACVA,MAAM,CAACgB,UAAU,CAAC,CAAC,CACnBhB,MAAM,CAAG,IAAI,CACf,CACF,CAAC,CAED,MAAO,MAAM,CAAAiB,SAAS,CAAGA,CAAA,GAAMjB,MAAM,CAErC,MAAO,MAAM,CAAAkB,QAAQ,CAAIC,OAAO,EAAK,CACnC,GAAInB,MAAM,CAAEA,MAAM,CAACoB,IAAI,CAAC,WAAW,CAAE,CAAED,OAAQ,CAAC,CAAC,CACnD,CAAC,CAED,MAAO,MAAM,CAAAE,WAAW,CAAIC,OAAO,EAAK,CACtC,GAAItB,MAAM,CAAEA,MAAM,CAACoB,IAAI,CAAC,cAAc,CAAE,CAAEE,OAAQ,CAAC,CAAC,CACtD,CAAC,CAED,MAAO,MAAM,CAAAC,eAAe,CAAGA,CAAA,GAAM,CACnC,GAAIvB,MAAM,CAAEA,MAAM,CAACoB,IAAI,CAAC,cAAc,CAAC,CACzC,CAAC,CAED,MAAO,MAAM,CAAAI,cAAc,CAAGA,CAAA,GAAM,CAClC,GAAIxB,MAAM,CAAEA,MAAM,CAACoB,IAAI,CAAC,aAAa,CAAC,CACxC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}